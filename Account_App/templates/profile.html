{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %} Profile {% endblock %}
{% block css %}

{% endblock %}


{%block body_block%}
<div class="container card p-5">
     <h3>Profile</h3>
     <div class="smart-line mb-5"></div>
     <div class="row">
          <div class="col-md-4">
               <div class="card flex-center-all p-3">
                    {% if user.user_profile.profile_pic %}
                    <img src='/media/{{user.user_profile.profile_pic}}' class="rounded-circle" height="100px"
                         width="100px">

                    <a href="{% url 'Account_App:change_pro_pic'%}" class="btn btn-dark btn-sm mt-3">Change Picture</a>
                    {% else %}
                    <img src='/media/profile_pics/avatar.png' class="rounded-circle" height="100px" width="100px">
                    <br>
                    <br>
                    <a href="{% url 'Account_App:add_pro_pic'%}" class="btn btn-dark btn-sm">Add Picture</a>
                    {% endif %}
               </div>
               <br>

               <table class="table table-striped table-light mt-3 card">

                    <tbody>
                         <tr>
                              <th scope="row">Verified</th>
                              <td>{% if user.user_profile.verified == True %} <img
                                        src="{% static 'images/verified.png'%}" class="img-fluid" height="30px"
                                        width="30px" />{%else %} <img src="{% static 'images/unverified.png'%}"
                                        class="img-fluid" height="30px" width="30px" />{% endif %}</td>
                         </tr>
                         <tr>
                              <th scope="row">Role</th>
                              <td>{{user.user_profile.role}}</td>
                         </tr>
                         <tr>
                              <th scope="row">Username</th>
                              <td>{{user.username}}</td>
                         </tr>



                    </tbody>
               </table>


               <br>

               <a href="{% url 'Account_App:user_profile_chnage' %}" style="text-decoration: none;"
                    class="card p-2 mb-3">Change Profile Info</a>
               <a href="{% url 'Account_App:change_profile' %}" style="text-decoration: none;"
                    class="card p-2 mb-3">Change Personal Info</a>
          </div>
          <div class="col-md-8 card">
               {% if user.user_profile.verified == False %}
               {% if user.user_profile.is_fully_filled %}
               <div class="alert alert-success d-flex align-items-center justify-content-center p-4">
                    Alright your profile is ready! &nbsp;
                    {% if user.user_main_wallet.is_fully_filled %}
                    <a href="{% url 'Account_App:profile_verification' %}"> Verify Profile Here</a>
                    <!-- <a href="{% url 'Main_App:quick_quize'%}">Verify Profile Here</a> -->
                    {% else %}
                    Your wallet isn't active &nbsp; <a href="{% url 'Wallet_App:wallet_page' %}">Activate Wallet
                         Here</a>
                    {% endif %}
               </div>
               {% else %}
               <div class="alert alert-warning d-flex align-items-center justify-content-center p-4">
                    Your profile is not set. <a href="{% url 'Account_App:user_profile_chnage' %}" class="ml-2">Complete
                         Profile Here</a>
               </div>
               {% endif %}
               {% endif %}

               <div class="table-responsive">
                    <table class="table table-striped table-light">

                         <tbody>
                              <tr>
                                   <th scope="row">Fullname</th>
                                   <td>{{user.user_profile.full_name}}</td>

                              </tr>
                              <tr>
                                   <th scope="row">Email</th>
                                   <td style="overflow-wrap: break-word;">{{user.email}} </td>
                              </tr>
                              <tr>
                                   <th scope="row">Bio</th>
                                   <td>{{user.user_profile.bio}}</td>

                              </tr>
                              <tr>
                                   <th scope="row">Company</th>
                                   <td>{{user.user_profile.company_name}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">Designation</th>
                                   <td>{{user.user_profile.designation}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">University</th>
                                   <td>{{user.user_profile.university_name}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">Degree</th>
                                   <td>{{user.user_profile.degree}}</td>
                              </tr>

                              <tr>
                                   <th scope="row">Phone</th>
                                   <td>{{user.user_profile.phone}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">Address</th>
                                   <td>{{user.user_profile.address_1}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">Zip Code</th>
                                   <td>{{user.user_profile.zipcode}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">City</th>
                                   <td>{{user.user_profile.city}}</td>
                              </tr>
                              <tr>
                                   <th scope="row">Country</th>
                                   <td>{{user.user_profile.country}}</td>
                              </tr>
                         </tbody>
                    </table>
               </div>

          </div>
     </div>
</div>

{%endblock%}